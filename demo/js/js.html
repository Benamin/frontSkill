<!DOCTYPE html><html lang="en"><head>    <meta charset="UTF-8">    <title>javascript</title>    <link rel="stylesheet"          href="https://cdn.bootcdn.net/ajax/libs/highlight.js/10.0.3/styles/default.min.css">    <script src="https://cdn.bootcdn.net/ajax/libs/highlight.js/10.0.3/highlight.min.js"></script>    <!-- and it's easy to individually load additional languages -->    <script charset="UTF-8"            src="https://cdn.bootcdn.net/ajax/libs/highlight.js/10.0.3/languages/go.min.js"></script>    <!--    wow 动画-->    <script src="https://cdn.bootcdn.net/ajax/libs/wow/1.1.2/wow.min.js"></script></head><style>    @font-face {        font-family: 'iconfont';  /* project id 1842628 */        src: url('//at.alicdn.com/t/font_1842628_2i2hvazdl9w.eot');        src: url('//at.alicdn.com/t/font_1842628_2i2hvazdl9w.eot?#iefix') format('embedded-opentype'),        url('//at.alicdn.com/t/font_1842628_2i2hvazdl9w.woff2') format('woff2'),        url('//at.alicdn.com/t/font_1842628_2i2hvazdl9w.woff') format('woff'),        url('//at.alicdn.com/t/font_1842628_2i2hvazdl9w.ttf') format('truetype'),        url('//at.alicdn.com/t/font_1842628_2i2hvazdl9w.svg#iconfont') format('svg');    }    .iconfont {        font-family: "iconfont" !important;        font-size: 16px;        font-style: normal;        -webkit-font-smoothing: antialiased;        -webkit-text-stroke-width: 0.2px;        -moz-osx-font-smoothing: grayscale;    }    .hljs {        background: #fdf6e4;    }    body > p {        color: #159963;    }    .fixed {        position: fixed;        right: 10px;        top: 40%;        width: 40px;        text-align: center;        cursor: pointer;    }    .fixed > i {        color: #666666;        font-size: 30px;    }    .scrollToTop {        display: none;        position: fixed;        right: 10px;        bottom: 10%;        width: 40px;        height: 40px;        background-color: #ccc;        border-radius: 50%;        line-height: 40px;        text-align: center;        cursor: pointer;    }    #directory {        position: fixed;        right: -1050px;        top: 10%;        background-color: #fff;        border-radius: 5px;        border: 1px solid #eee;        cursor: pointer;        transition: all 300ms;    }    #directory li {        margin-bottom: 8px;    }    #directory li a {        color: #159963;    }</style><body><div id="fixed" class="fixed">    <i class="iconfont">&#xe62a;</i></div><div id="directory"></div><div class="scrollToTop wow slideInLeft" data-wow-duration="2s" data-wow-delay="5s">    <i onclick="scrollToTop()" class="iconfont upward">&#xe614;</i></div><p id="p1">1、数组排序</p><pre><code>let a = [ {index:9},{index:5},{index:3},{index:4},{index:411},{index:1}]//根据对象数组中的某一个值进行排序，如当前数组的index；a.sort((a,b)=>a.index - b.index);//小->大a.sort((a,b)=>b.index - a.index);  //大->小console.log(a);[ {index:411},{index:11},{index:5},{index:4},{index:3},{index:1}]</code></pre><p id="p2">2、判断客户端</p><pre><code>    const ua = navigator.userAgent,        isWindowsPhone = /(?:Windows Phone)/.test(ua),        isSymbian = /(?:SymbianOS)/.test(ua) || isWindowsPhone,        isAndroid = /(?:Android)/.test(ua),        isFireFox = /(?:Firefox)/.test(ua),        isChrome = /(?:Chrome|CriOS)/.test(ua),        isTablet = /(?:iPad|PlayBook)/.test(ua) || (isAndroid && !/(?:Mobile)/.test(ua)) || (isFireFox && /(?:Tablet)/.test(ua)),        isPhone = /(?:iPhone)/.test(ua) && !isTablet,        isPc = !isPhone && !isAndroid && !isSymbian;      if (isAndroid || isPhone) {        this.isMobile = true;        console.log("手机")      } else if (isTablet) {        this.isMobile = true;        console.log("平板")      } else if (isPc) {        console.log("平板")        this.isMobile = false;      }</code></pre><p id="p3">3、时间转为 xxxx-xx-xx HH:mm:ss 格式</p><pre><code>    /**     * @param timeStamp   需要转化的时间戳     */export const formatDate = timeStamp => {  let date = new Date(timeStamp);  let year = date.getFullYear();  let month = date.getMonth() + 1;  let day = date.getDate();  let hour = date.getHours();  let minutes = date.getMinutes();  let second = date.getSeconds();  return `${year}-${dealTenBelow(month)}-${dealTenBelow(day)} ${dealTenBelow(hour)}:${dealTenBelow(minutes)}:${dealTenBelow(second)}`}// 小于10的月或日处理 例如9月 =》09月export const dealTenBelow = date => date < 10 ? `0${date}` : date;</code></pre><p id="p4">4、浮点数计算</p><pre><code>formatFloat(f,digit){    let m = Math.pow(10, digit);    let num = Math.round(f * m) / m;    return num;}用法：formatFloat(0.1+0.2,2)   //0.3</code></pre><p id="p5">5、JSON格式对象转为form表单的格式，用来接口传递数据</p><pre><code>    /**     * @param json   需要转化的json     * @returns {FormData}   formData数据     */    toFormData(json) {        let formData = new FormData();        for (let k in json) {            formData.append(k, json[k])        }        return formData;    }</code></pre><p id="p6">6、JSON格式数据转化为字符串 接口调用</p><pre><code>     /**     * @param data  json格式的数据     * @returns {string}     */    toQuery(data) {        let str = '?';        for (let key in data) {            if (data.hasOwnProperty(key)) {                const value = data[key];                str += key + '=' + value + '&';            }        }        str = str.substring(0, str.length - 1);        return str;    }</code></pre><p id="p7">7、获取url中的参数</p><pre><code>    /**     * @returns {string}     */    getParams() {        let url = decodeURI(decodeURI(location.search)); //获取url中"?"符后的字串        let theRequest = {};        if (url.indexOf("?") != -1) {            let str = url.substr(1);            let strs = str.split("&");            for (let i = 0; i < strs.length; i++) {                theRequest[strs[i].split("=")[0]] = strs[i].split("=")[1];            }        }        return theRequest;    }</code></pre><p id="p8">8、判断是否为微信</p><pre><code>    /**     * @returns {boolean} true = 微信 || false = 非微信     */    isWeiXin(){        var ua = window.navigator.userAgent.toLowerCase();        if (ua.match(/MicroMessenger/i) == 'micromessenger') {            return true;        } else {            return false;        }    },</code></pre><p id="p9">9、复制文本</p><pre><code>    /**     * @params {str}  需要复制到剪切板的文本     */    copy(str) {      const el = document.createElement('textarea')      el.value = str      el.setAttribute('readonly', '')      el.style.position = 'absolute'      el.style.left = '-9999px'      el.style.top = '-9999px'      document.body.appendChild(el)      const selected = document.getSelection().rangeCount > 0 ? document.getSelection().getRangeAt(0) : false      el.select()      document.execCommand('copy')      document.body.removeChild(el)      if (selected) {        document.getSelection().removeAllRanges()        document.getSelection().addRange(selected)      }    }</code></pre><p id="p10">10、滚动条回到顶部的动画</p><pre><code>    scrollToTop() {      const scrollTop = document.documentElement.scrollTop || document.body.scrollTop      if (scrollTop > 0) {        window.requestAnimationFrame(scrollToTop)        window.scrollTo(0, c - c / 8)      } else {        window.cancelAnimationFrame(scrollToTop)      }    }</code></pre><p id="p11">11、复制</p><pre><code>    executeCopy(textValue) {    const input = document.createElement('textarea');    document.body.appendChild(input);    input.value = textValue;    input.select();    document.execCommand('Copy');    input.remove();</code></pre><p id="p12">12、任意范围内的随机数</p><pre><code>function random(min, max) {  return Math.floor(Math.random() * (max - min)) + min;}</code></pre><p id="p13">13、数组上移、下移</p><pre><code>function swapArray(arr,index1,index){    arr[index1] = arr.splice(index2,1,arr[index1]);}//上移function upItem(index){    swapArray(demoArr,index,index - 1);}//下移function downItem(index){    swapArray(demoArr,index,index + 1)}</code></pre><script>    //初始化hljs    hljs.initHighlightingOnLoad();    //初始化wow    new WOW().init();    //页面初始化    window.onload = () => {        let upward = document.querySelector('.scrollToTop');        const pArr = document.querySelectorAll('p');        const directory = document.querySelector('#directory');        console.log(directory);        let str = "";        pArr.forEach((e, index) => {            const n = index + 1;            str += "<li> <a href='#p" + n + "'>" + e.innerText + "</a></li>"        })        directory.innerHTML = `<ul>${str}</ul>`        window.addEventListener('scroll', () => {            let scrollTop = window.scrollY;            if (scrollTop > 400) {                upward.style.display = 'block';            } else {                upward.style.display = 'none';            }        })        const fixed = document.querySelector('#fixed');        fixed.addEventListener("click", (e) => {            if (directory.style.right === "-1050px") {                directory.style.right = "50px";            } else {                directory.style.right = "-1050px";            }        })    }    //返回顶部    function scrollToTop() {        const scrollTop = document.documentElement.scrollTop || document.body.scrollTop        if (scrollTop > 0) {            window.requestAnimationFrame(scrollToTop)            window.scrollTo(0, scrollTop - scrollTop / 8)        } else {            window.cancelAnimationFrame(scrollToTop)        }    }</script></body></html>